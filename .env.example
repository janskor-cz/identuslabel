# Hyperledger Identus SSI Infrastructure - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# Server Configuration
# ============================================================================

# Server public IP address (external)
SERVER_IP=91.99.4.54

# Server domain (for HTTPS via reverse proxy)
SERVER_DOMAIN=identuslabel.cz

# ============================================================================
# Cloud Agent Configuration
# ============================================================================

# Main Certification Authority Cloud Agent
CLOUD_AGENT_PORT=8000
CLOUD_AGENT_DIDCOMM_PORT=8090
CLOUD_AGENT_ADMIN_TOKEN=your-secure-admin-token-here

# Top-Level Issuer Cloud Agent
TOP_LEVEL_ISSUER_PORT=8100
TOP_LEVEL_ISSUER_DIDCOMM_PORT=8190
TOP_LEVEL_ISSUER_ADMIN_TOKEN=your-secure-top-level-token-here

# Cloud Agent Wallet Configuration
DEFAULT_WALLET_SEED=your-wallet-seed-here
DEFAULT_WALLET_PASSPHRASE=your-wallet-passphrase-here

# ============================================================================
# Database Configuration
# ============================================================================

# PostgreSQL (Main CA)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-postgres-password-here
POSTGRES_DB=pollux
POSTGRES_PORT=5432
POSTGRES_EXTERNAL_PORT=5432

# PostgreSQL (Top-Level Issuer)
TOP_LEVEL_POSTGRES_PORT=5433
TOP_LEVEL_POSTGRES_PASSWORD=your-secure-top-level-postgres-password-here

# MongoDB (Mediator)
MONGODB_PORT=27017
MONGODB_USER=admin
MONGODB_PASSWORD=your-secure-mongodb-password-here

# ============================================================================
# Service Ports
# ============================================================================

# Certification Authority
CA_PORT=3005

# Edge Wallets
ALICE_WALLET_PORT=3001
BOB_WALLET_PORT=3002

# Alice RIDB Backend
ALICE_RIDB_PORT=5001

# Bob RIDB Backend
BOB_RIDB_PORT=5002

# Mediator
MEDIATOR_PORT=8080

# ============================================================================
# VDR/PRISM Node Configuration
# ============================================================================

# PRISM Node gRPC endpoint
PRISM_NODE_HOST=91.99.4.54
PRISM_NODE_PORT=50053

# ============================================================================
# Mediator Configuration
# ============================================================================

# Mediator WebSocket URL (internal)
MEDIATOR_URL=ws://localhost:8080

# Mediator DID (generated on first start)
MEDIATOR_DID=did:peer:2.Ez6LSghwSE437wnDE1pt3X6hVDUQzSjsHzinpX3XFvMjRAm7y...

# ============================================================================
# Reverse Proxy Configuration (Caddy)
# ============================================================================

# Let's Encrypt email for SSL certificates
ACME_EMAIL=admin@identuslabel.cz

# Caddy admin API
CADDY_ADMIN_PORT=2019

# ============================================================================
# Application Configuration
# ============================================================================

# Node environment
NODE_ENV=production

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Session secret for CA server
SESSION_SECRET=your-secure-session-secret-here

# ============================================================================
# Security Configuration
# ============================================================================

# API Key authentication
API_KEY_ENABLED=true
API_KEY_AUTO_PROVISIONING=true

# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=https://identuslabel.cz,http://localhost:3001,http://localhost:3002

# ============================================================================
# Development Configuration (Optional)
# ============================================================================

# Enable debug mode
DEBUG=false

# Enable hot reload
HOT_RELOAD=true

# Development server URLs (localhost)
DEV_CA_URL=http://localhost:3005
DEV_ALICE_URL=http://localhost:3001
DEV_BOB_URL=http://localhost:3002
